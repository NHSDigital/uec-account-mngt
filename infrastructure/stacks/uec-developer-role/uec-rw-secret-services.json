{
    "Version": "2012-10-17",
    "Statement": [
        {
            "Sid": "SecretsManagerKmsPermissions",
            "Effect": "Allow",
            "Action": [
                "secretsmanager:GetRandomPassword",
                "secretsmanager:GetResourcePolicy",
                "secretsmanager:DescribeSecret",
                "secretsManager:tagResource",
                "secretsmanager:ListSecrets",
                "kms:DescribeCustomKeyStores",
                "kms:ListKeys",
                "kms:DeleteCustomKeyStore",
                "kms:GenerateRandom",
                "kms:UpdateCustomKeyStore",
                "kms:ListAliases",
                "kms:DisconnectCustomKeyStore",
                "kms:CreateKey",
                "kms:ConnectCustomKeyStore",
                "kms:CreateCustomKeyStore",
                "kms:CreateGrant",
                "kms:GenerateDataKey",
                "kms:Decrypt",
                "kms:RetireGrant",
                "kms:DescribeKey"
            ],
            "Resource": "*"
        },
        {
          "Sid": "SsmPermissions",
          "Effect": "Allow",
          "Action": [
              "ssm:ListCommands",
              "ssm:ListDocumentVersions",
              "ssm:ListDocumentMetadataHistory",
              "ssm:DescribeMaintenanceWindowSchedule",
              "ssm:DescribeInstancePatches",
              "ssm:ListInstanceAssociations",
              "ssm:GetParameter",
              "ssm:GetMaintenanceWindowExecutionTaskInvocation",
              "ssm:DescribeAutomationExecutions",
              "ssm:GetMaintenanceWindowTask",
              "ssm:DescribeMaintenanceWindowExecutionTaskInvocations",
              "ssm:DescribeAutomationStepExecutions",
              "ssm:ListOpsMetadata",
              "ssm:DescribeParameters",
              "ssm:ListResourceDataSync",
              "ssm:ListDocuments",
              "ssm:DescribeMaintenanceWindowsForTarget",
              "ssm:ListComplianceItems",
              "ssm:GetConnectionStatus",
              "ssm:GetMaintenanceWindowExecutionTask",
              "ssm:GetOpsItem",
              "ssm:GetMaintenanceWindowExecution",
              "ssm:ListResourceComplianceSummaries",
              "ssm:GetParameters",
              "ssm:GetOpsMetadata",
              "ssm:ListOpsItemRelatedItems",
              "ssm:DescribeOpsItems",
              "ssm:PutParameter",
              "ssm:DescribeMaintenanceWindows",
              "ssm:DescribeEffectivePatchesForPatchBaseline",
              "ssm:GetServiceSetting",
              "ssm:DescribeAssociationExecutions",
              "ssm:DescribeDocumentPermission",
              "ssm:ListCommandInvocations",
              "ssm:GetAutomationExecution",
              "ssm:DescribePatchGroups",
              "ssm:GetDefaultPatchBaseline",
              "ssm:DescribeDocument",
              "ssm:DescribeMaintenanceWindowTasks",
              "ssm:ListAssociationVersions",
              "ssm:GetPatchBaselineForPatchGroup",
              "ssm:PutConfigurePackageResult",
              "ssm:DescribePatchGroupState",
              "ssm:DescribeMaintenanceWindowExecutions",
              "ssm:GetManifest",
              "ssm:DescribeMaintenanceWindowExecutionTasks",
              "ssm:DescribeInstancePatchStates",
              "ssm:DescribeInstancePatchStatesForPatchGroup",
              "ssm:GetDocument",
              "ssm:GetInventorySchema",
              "ssm:GetParametersByPath",
              "ssm:GetMaintenanceWindow",
              "ssm:DescribeInstanceAssociationsStatus",
              "ssm:DescribeAssociationExecutionTargets",
              "ssm:GetPatchBaseline",
              "ssm:DescribeInstanceProperties",
              "ssm:ListInventoryEntries",
              "ssm:DescribeAssociation",
              "ssm:ListOpsItemEvents",
              "ssm:GetDeployablePatchSnapshotForInstance",
              "ssm:DescribeSessions",
              "ssm:GetParameterHistory",
              "ssm:DescribeMaintenanceWindowTargets",
              "ssm:DescribePatchBaselines",
              "ssm:DescribeEffectiveInstanceAssociations",
              "ssm:DescribeInventoryDeletions",
              "ssm:GetResourcePolicies",
              "ssm:DescribePatchProperties",
              "ssm:GetInventory",
              "ssm:GetOpsSummary",
              "ssm:DescribeActivations",
              "ssm:GetCommandInvocation",
              "ssm:ListComplianceSummaries",
              "ssm:DescribeInstanceInformation",
              "ssm:ListTagsForResource",
              "ssm:DescribeDocumentParameters",
              "ssm:GetCalendar",
              "ssm:ListAssociations",
              "ssm:GetCalendarState",
              "ssm:DescribeAvailablePatches"
          ],
          "Resource": "*"
      }
    ]
}
